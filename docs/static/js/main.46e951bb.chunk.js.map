{"version":3,"sources":["charts sync nonrecursive /.*/.vl/.json$|.*/.vg/.json$","components/helpers/rendererEnum.js","components/Renderer.js","components/Ticket.js","components/TicketGrid.js","components/helpers/utils.js","components/Header.js","App.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","ticketEnum","SOUCE_HEADER","RENDERER","SCALE_FACTOR","SOURCE_ACTION","LOCALE","decimal","thousands","grouping","currency","TOOLTIP_OPTIONS","theme","Renderer","spec","downloadFilename","chartEl","useRef","useEffect","vegaEmbed","current","renderer","rendererEnum","scaleFactor","downloadFileName","sourceHeader","i18n","logLevel","Info","formatLocale","tooltip","then","view","width","run","catch","console","error","className","ref","Ticket","tags","hasOwnProperty","usermeta","description","name","lib","$schema","match","tag","index","key","TicketGrid","require","pre","Date","getTime","Header","titleArray","title","split","titleExceptLastWord","slice","join","concat","lastWord","pop","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yJAAA,IAAIA,EAAM,CACT,6BAA8B,IAC9B,+BAAgC,IAChC,4BAA6B,IAC7B,6BAA8B,IAC9B,+BAAgC,IAChC,2BAA4B,KAI7B,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,K,02OCOLY,EATI,CACjBC,aA1BgB,6eA2BhBC,SAAU,MACVC,aAAc,EACdC,cAAe,mBACfC,OAhBa,CACbC,QAAS,IACTC,UAAW,IACXC,SAAU,CAAC,GACXC,SAAU,CAAC,GAAI,WAafC,gBAVqB,CACrBC,MAAO,cCyBMC,G,OAvCE,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,KAAMC,EAAuB,EAAvBA,iBAClBC,EAAUC,mBA4BhB,OAvBAC,qBAAU,WACRC,YAAUH,EAAQI,QAASN,EAAM,CAC/BO,SAAUC,EAAanB,SACvBoB,YAAaD,EAAalB,aAC1BoB,iBAAkBT,EAClBU,aAAcH,EAAapB,aAC3BwB,KAAM,CACJrB,cAAeiB,EAAajB,eAE9BsB,SAAUC,OACVC,aAAcP,EAAahB,OAC3BwB,QAASR,EAAaX,kBAErBoB,MAAK,YAAqB,IAATC,EAAQ,EAARA,KAEZlB,EAAKmB,MAAQ,KACfD,EAAKC,MAAM,KAEbD,EAAKE,SAENC,MAAMC,QAAQC,SAChB,CAACvB,EAAMC,IAEH,yBAAKuB,UAAU,eAAeC,IAAKvB,MCa7BwB,EA7CA,SAAC,GAAc,IAAZ1B,EAAW,EAAXA,KACV2B,EAAO3B,EAAK4B,eAAe,aAAc5B,EAAK6B,SAASF,MAAa,GACpEG,EAAc9B,EAAK8B,aAAe,4BAClCC,EAAO/B,EAAK+B,MAAQ,gBAOpBC,EANoBhC,EAAKiC,QAKEC,MADtB,iCAEQ,GAGnB,OACE,yBAAKV,UAAU,mDACb,yBAAKA,UAAU,4BACb,kBAAC,EAAD,CAAUxB,KAAMA,EAAMC,iBAAkB8B,KAE1C,yBAAKP,UAAU,sFACb,yBAAKA,UAAU,oCACb,4BAAQA,UAAU,QAAQO,GAC1B,0BAAMP,UAAU,sBACL,SAARQ,EAAiB,IAAM,OAG5B,yBAAKR,UAAU,mCAAmCM,GAClD,yBAAKN,UAAU,mEACZG,EAAKvD,KAAI,SAAC+D,EAAKC,GAAN,OACR,0BACEC,IAAKD,EACLZ,UAAU,wDAETW,UCfAG,EAlBI,WAGjB,IAAMhE,EAAMiE,OAMZ,OACE,yBAAKf,UAAU,2BACZlD,EAAIQ,OAAOV,KAAI,SAACiE,EAAKD,GAAN,OACd,kBAAC,EAAD,CAAQC,KChBYG,EDgBKJ,ECfzB,GAAN,OAAUI,EAAV,aAAiB,IAAIC,MAAOC,YDeW1C,KAAM1B,EAAI+D,KChBxB,IAACG,OCsBbG,EAnBA,SAAC,GAAe,IACvBC,EADsB,EAAZC,MACSC,MAAM,KACzBC,EAAsBH,EAAWI,MAAM,GAAI,GAAGC,KAAK,KAAKC,OAAO,KAC/DC,EAAWP,EAAWQ,MAE5B,OACE,yBAAK5B,UAAU,QACb,4BAAQA,UAAU,eAChB,wBAAIA,UAAU,4CACXuB,EACD,0BAAMvB,UAAU,0EACb2B,OCDEE,MATf,WACE,OACE,yBAAK7B,UAAU,mBACb,kBAAC,EAAD,CAAQqB,MAAM,+BACd,kBAAC,EAAD,QCHNS,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.46e951bb.chunk.js","sourcesContent":["var map = {\n\t\"./amount-bar-chart.vl.json\": 109,\n\t\"./fullmoon-pie-chart.vl.json\": 110,\n\t\"./japan-pie-chart.vl.json\": 111,\n\t\"./pacman-pie-chart.vl.json\": 112,\n\t\"./pokeball-pie-chart.vl.json\": 113,\n\t\"./road-pie-chart.vl.json\": 114\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 108;","const sourceHeader = `\n  <script>\n    const style = document.createElement(\"link\"); \n    style.href = \"ascetic-mod.css\"; style.rel = \"stylesheet\"; \n    style.type = \"text/css\";\n    document.head.appendChild(style); \n    \n    const script = document.createElement(\"script\"); \n    script.src = \"//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/highlight.min.js\";\n    script.onload = () => hljs.highlightBlock(document.querySelector(\"pre code\"));\n    document.head.appendChild(script);\n  </script>\n`;\n\nconst locale = {\n  decimal: \",\",\n  thousands: \".\",\n  grouping: [3],\n  currency: [\"\", \"â‚¬\"],\n};\n\nconst tooltipOptions = {\n  theme: \"lcontrast\",\n};\n\nconst ticketEnum = {\n  SOUCE_HEADER: sourceHeader,\n  RENDERER: \"svg\",\n  SCALE_FACTOR: 5,\n  SOURCE_ACTION: \"View Source Spec\",\n  LOCALE: locale,\n  TOOLTIP_OPTIONS: tooltipOptions,\n};\n\nexport default ticketEnum;\n","import React, { useEffect, useRef } from \"react\";\nimport vegaEmbed from \"vega-embed\";\nimport { Info } from \"vega\";\nimport rendererEnum from \"./helpers/rendererEnum\";\nimport PropTypes from \"prop-types\";\nimport \"../assets/main.css\";\nimport \"../assets/tooltip.css\";\n\nconst Renderer = ({ spec, downloadFilename }) => {\n  const chartEl = useRef();\n\n  // SVG renderer generates global CSS rules: https://github.com/vega/vega/issues/2618\n  // Solution: Vega v5.12.1\n\n  useEffect(() => {\n    vegaEmbed(chartEl.current, spec, {\n      renderer: rendererEnum.RENDERER,\n      scaleFactor: rendererEnum.SCALE_FACTOR,\n      downloadFileName: downloadFilename,\n      sourceHeader: rendererEnum.SOUCE_HEADER,\n      i18n: {\n        SOURCE_ACTION: rendererEnum.SOURCE_ACTION,\n      },\n      logLevel: Info,\n      formatLocale: rendererEnum.LOCALE,\n      tooltip: rendererEnum.TOOLTIP_OPTIONS,\n    })\n      .then(function ({ view }) {\n        // View API: https://vega.github.io/vega/docs/api/view/\n        if (spec.width < 200) {\n          view.width(200);\n        }\n        view.run();\n      })\n      .catch(console.error);\n  }, [spec, downloadFilename]);\n\n  return <div className=\"align-middle\" ref={chartEl}></div>;\n};\n\n// More info: https://reactjs.org/docs/typechecking-with-proptypes.html\n// It is similar to Python's type hints\nRenderer.propTypes = {\n  spec: PropTypes.object.isRequired,\n  downloadFilename: PropTypes.string.isRequired,\n};\n\nexport default Renderer;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"../assets/main.css\";\nimport Renderer from \"./Renderer\";\n\nconst Ticket = ({ spec }) => {\n  const tags = spec.hasOwnProperty(\"usermeta\") ? spec.usermeta.tags || [] : [];\n  const description = spec.description || \"No description available.\";\n  const name = spec.name || \"Example chart\";\n  const vegaLiteOrVegaFat = spec.$schema;\n\n  // https://vega.github.io/schema/vega-lite/v4.json\n  // https://vega.github.io/schema/vega/v5.json\n  const re = /(\\w+-?\\w+)\\/\\w([.\\d]+)\\.json$/;\n  const schema = vegaLiteOrVegaFat.match(re);\n  const lib = schema[1];\n  // const version = schema[2];\n\n  return (\n    <div className=\"flex border-2 rounded border-gray-300 last:mb-8\">\n      <div className=\"w-full py-2 px-2 my-auto\">\n        <Renderer spec={spec} downloadFilename={name} />\n      </div>\n      <div className=\"w-1/3 py-2 px-2 bg-gray-100 border-dotted border-l-4 flex flex-col border-gray-300\">\n        <div className=\"px-4 py-2 m-2 text-black text-lg\">\n          <strong className=\"mr-1\">{name}</strong>\n          <span className=\"text-xs font-light\">\n            {lib === \"vega\" ? \"V\" : \"VL\"}\n          </span>\n        </div>\n        <div className=\"h-full px-4 py-2 m-2 text-black\">{description}</div>\n        <div className=\"px-4 py-2 m-2 space-y-1 text-black text-xs lowercase font-light\">\n          {tags.map((tag, index) => (\n            <span\n              key={index}\n              className=\"inline-block bg-gray-300 rounded-full px-3 py-1 mr-1\"\n            >\n              {tag}\n            </span>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nTicket.propTypes = {\n  spec: PropTypes.object.isRequired,\n};\n\nexport default Ticket;\n","import React from \"react\";\nimport Ticket from \"./Ticket\";\nimport { generateKey } from \"./helpers/utils\";\n\nconst TicketGrid = () => {\n  // Source: https://github.com/gatsbyjs/gatsby/issues/3663\n  // Docs: https://webpack.js.org/api/module-methods/#requirecontext\n  const req = require.context(\n    \"../charts\",\n    false,\n    /.*\\.vl\\.json$|.*\\.vg\\.json$/\n  );\n\n  return (\n    <div className=\"flex flex-col space-y-8\">\n      {req.keys().map((key, index) => (\n        <Ticket key={generateKey(index)} spec={req(key)} />\n      ))}\n    </div>\n  );\n};\n\nexport default TicketGrid;\n","export const generateKey = (pre) => {\n  return `${pre}_${new Date().getTime()}`;\n};\n","import React from \"react\";\nimport \"../assets/main.css\";\n\nconst Header = ({ title }) => {\n  const titleArray = title.split(\" \");\n  const titleExceptLastWord = titleArray.slice(0, -1).join(\" \").concat(\" \");\n  const lastWord = titleArray.pop();\n\n  return (\n    <div className=\"my-8\">\n      <header className=\"text-center\">\n        <h1 className=\"uppercase text-5xl font-title text-black\">\n          {titleExceptLastWord}\n          <span className=\"bg-gray-100 pr-4 pl-3 rounded border-dotted border-l-4 border-gray-300\">\n            {lastWord}\n          </span>\n        </h1>\n      </header>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport TicketGrid from \"./components/TicketGrid\";\nimport Header from \"./components/Header\";\n\nfunction App() {\n  return (\n    <div className=\"container px-32\">\n      <Header title=\"Data Visualization Tickets\" />\n      <TicketGrid />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./assets/main.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}